<div class="index-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <h2 class="page-title">{{ title }}</h2>
      <button 
        mat-flat-button 
        class="create-button"
        routerLink="{{ createRoute }}"
      >
        <span class="button-icon">‚ûï</span>
        Create New
      </button>
    </div>
    <div class="header-underline"></div>
  </div>

  <!-- Table Section -->
  <div class="table-container">
    <app-generic-list [listado]="entities">
      <ng-container content>
        <div class="table-wrapper">
          <table
            mat-table
            [dataSource]="entities"
            class="custom-table"
          >
            @for (column of columnsToShow; track $index){ 
              @if (column === 'actions') {
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef class="actions-header">Actions</th>
                  <td mat-cell *matCellDef="let element" class="actions-cell">
                    <div class="action-buttons">
                      <a
                        mat-flat-button
                        class="edit-button"
                        [routerLink]="editRoute + '/' + element.id"
                      >
                        <span class="button-icon">‚úèÔ∏è</span>
                        Edit
                      </a>
                      <button
                        mat-flat-button
                        class="delete-button"
                        [swal]="{
                          title: 'Confirm Delete',
                          text: 'Do you want to delete this record?',
                          showCancelButton: true,
                          confirmButtonColor: '#ff4757',
                          cancelButtonColor: '#57606f',
                          confirmButtonText: 'Yes, delete it!',
                          cancelButtonText: 'Cancel'
                        }"
                        (confirm)="delete(element.id)"
                      >
                        <span class="button-icon">üóëÔ∏è</span>
                        Delete
                      </button>
                    </div>
                  </td>
                </ng-container>
              } @else {
                <ng-container matColumnDef="{{ column }}">
                  <th mat-header-cell *matHeaderCellDef class="data-header">
                    {{ capitalizeFirstLetter(column) }}
                  </th>
                  <td mat-cell *matCellDef="let element" class="data-cell">
                    {{ element[column] }}
                  </td>
                </ng-container>
              }
            }
            <tr mat-header-row *matHeaderRowDef="columnsToShow" class="header-row"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToShow" class="data-row"></tr>
          </table>
        </div>
        
        <div class="pagination-container">
          <mat-paginator
            showFirstLastButtons
            [length]="totalRegistersQuantity"
            [pageIndex]="pagination.page - 1"
            [pageSize]="pagination.recordsPerPage"
            [pageSizeOptions]="[5, 10, 50]"
            class="custom-paginator"
            (page)="updatePagination($event)"
          >
          </mat-paginator>
        </div>
      </ng-container>
    </app-generic-list>
  </div>
</div>