<div class="users-index-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <h2 class="page-title">
        <span class="title-icon">👥</span>
        Users Management
      </h2>
    </div>
    <div class="header-underline"></div>
  </div>

  <!-- Users Table Section -->
  <div class="table-container">
    <app-generic-list [listado]="users">
      <ng-container content>
        <div class="table-wrapper">
          <table mat-table [dataSource]="users" class="custom-users-table">
            
            <!-- Email Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef class="email-header">
                <span class="header-icon">📧</span>
                Email Address
              </th>
              <td mat-cell *matCellDef="let element" class="email-cell">
                <div class="email-container">
                  <span class="email-text">{{ element.email }}</span>
                  <div class="email-domain">{{ element.email.split('@')[1] }}</div>
                </div>
              </td>
            </ng-container>

            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
              <th mat-header-cell *matHeaderCellDef class="actions-header">
                <span class="header-icon">⚙️</span>
                Administrator Actions
              </th>
              <td mat-cell *matCellDef="let element" class="actions-cell">
                <div class="admin-actions">
                  <button 
                    mat-flat-button 
                    class="grant-admin-button"
                    [disabled]="element.isAdmin"
                    (click)="grantAdmin(element.email)">
                    <span class="button-icon">🔑</span>
                    Grant Admin
                  </button>
                  <button 
                    mat-flat-button 
                    class="remove-admin-button"
                    [disabled]="!element.isAdmin"
                    (click)="removeAdmin(element.email)">
                    <span class="button-icon">🚫</span>
                    Remove Admin
                  </button>
                </div>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnsToShow" class="header-row"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToShow" class="data-row"></tr>
          </table>
        </div>
        
        <div class="pagination-container">
          <mat-paginator
            showFirstLastButtons
            [length]="totalRecordsQuantity"
            [pageIndex]="pagination.page"
            [pageSize]="pagination.recordsPerPage"
            [pageSizeOptions]="[10, 25, 50]"
            class="custom-paginator"
            (page)="updatePagination($event)"
          >
          </mat-paginator>
        </div>
      </ng-container>
    </app-generic-list>
  </div>
</div>