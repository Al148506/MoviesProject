<div class="movies-grid">
  <ng-container *ngIf="movies && movies.length > 0; else noMovies">
    <div
      *ngFor="let movie of movies; let i = index"
      class="movie-card"
      [style.animation-delay]="i * 0.1 + 's'"
    >
      <div class="movie-poster-container">
        <a [routerLink]="['/movie', movie.id]">
          <img
            *ngIf="movie.poster; else defaultImage"
            [src]="movie.poster"
            [alt]="movie.title"
            class="movie-poster"
          />

          <ng-template #defaultImage>
            <img
              src="default.jpg"
              [alt]="movie.title"
              class="movie-poster default-poster"
            />
          </ng-template>
        </a>
        <div class="movie-overlay">
          <div class="movie-rating">â˜… 8.5</div>
        </div>
      </div>

      <div class="movie-info">
        <h3 class="movie-title">
          <a [routerLink]="['/movie', movie.id]">{{ movie.title }}</a>
        </h3>

        <app-authorized rol="admin">
          <ng-container authorized>
            <div class="movie-actions">
              <a
                mat-flat-button
                class="action-btn edit-btn"
                [routerLink]="['/movies/edit', movie.id]"
              >
                <span class="btn-icon">âœï¸</span>
                Edit
              </a>
              <a
                mat-flat-button
                class="action-btn delete-btn"
                [swal]="{
                  title: 'Confirm Delete',
                  text: 'Do you want to delete this movie?',
                  showCancelButton: true,
                  confirmButtonColor: '#d33',
                  cancelButtonColor: '#3085d6'
                }"
                (confirm)="delete(movie.id)"
              >
                <span class="btn-icon">ğŸ—‘ï¸</span>
                Delete
              </a>
            </div>
          </ng-container>
        </app-authorized>
      </div>
    </div>
  </ng-container>

  <ng-template #noMovies>
    <div class="no-movies-container">
      <div class="no-movies-icon">ğŸ¬</div>
      <p class="no-movies-text">No movies available at the moment</p>
      <p class="no-movies-subtext">Check back soon for new releases!</p>
    </div>
  </ng-template>
</div>
